\section{Exercises}

\begin{enumerate}


\item
Represent a FSA using the following three relations:
\begin{enumerate}
\item
m(MachineName,State,Symbol,TargetState) which describes the transition
relation for a machine, with MachineName being the name of the machine
(to allow us to represent many machines using the same relation),
State is a state of the FSM, Symbol is an input symbol, and
TargetState is a state to which the machine transitions from State on
seeing Symbol.  An epsilon transition is indicated by a Symbol of ''.

\item
mis(MachineName,InitialState) where InitialState is the initial state
of the FSM named MachineName.

\item
mfs(MachineName,FinalState) where FinalState is a final state of the
FSM named MachineName.
\end{enumerate}

Represent strings with the following two relations:
\begin{enumerate}
\item 
string(SName,I1,Sym,I2), where SName is the name of the string (to
permit representing multiple strings); Sym is the symbol at position
I2, and I1 is I2-1.

\item
stringlen(SName,Length), where SName is the name of the string, which
has length Length.
\end{enumerate}

Do the following exercises concerning FSA's.
\begin{enumerate}
\item 
   \mbox{
      \epsfxsize 4.2in % width of the picture, optional
      \epsfysize 1.0in % height of the picture, optional
                     % either of the above commands are
                     % used to scale pictures.
       \epsfbox{figures/m0s1s2s.eps}
   }

Give the facts of m/4, mis/2, and mfs/2 that represent this machine.
Give the facts that define strings 0011112, 00021110
\item
Write a predicate accept(Mach,String) which is true if machine Mach
accepts the string String.

\item
Given the definition of the machines M1 and M2, write a predicate
m(intersect(M1,M2),State,Symbol,TargetState) that defines the
transition relation of the machine that accepts the intersection of
the two languages accepted by M1 and M2.

Similarly write mis(intersect(M1,M2),IS) and mfs(intersect(M1,M2),FS).

\item
Given the definition of a machine Mach, write a predicate
m(efree(Mach),State,Symbol,TargetState) that defines the transition
relation of the (or a) epsilon-free machine that recognizes the same
language as Mach.  [An epsilon-free machine is one that has not
epsilon transitons.]  

Similarly write mis(efree(Mach),IS) and mfs(efree(Mach),FS).

\item
Similarly write definitions of m(det(Mach),State,Symbol,TargetState),
mis(det(Mach),IS) and mfs(det(Mach),FS), where det(Mach) is a
deterministic FSA that recognizes the same language as Mach.


\end{enumerate}

\item
Write an XSB program to interpret the
simple procedural programming language you parsed in assignment 6, and
produce the appropriate output, as generated by the PRINT statements.

The semantics of the language should be clear from its syntax.  The
basic predicate you will need to write should be:
\begin{verbatim}
interpM3(AST,StateIn,StateOut)
\end{verbatim}

where AST is the Abstract Syntax Tree of the portion of the program
you are interpreting; StateIn is the state of the program variables at
the beginning of that execution; and StateOut is the state of the
program variables after the program segment has been executed.  You
may produce the output, generated by interpreted PRINT statements as a
side-effect of the interpretation (by using writeln/1 in XSB.)

One simple and easy representation of the program state is a list of
terms of the form: VariableName=VariableValue.

As a very simple example, your predicate should do the following:
\begin{verbatim}
| ?- interpM3(assign(x,+(ident(x),int(1))),[x=3],StateOut).

StateOut = [x=4];

no
\end{verbatim}

You should use the AST's you generated in Exercise ?? of Chapter 5.
Note that the / operand means integer division, and so must produce an
integer.

\end{enumerate}
